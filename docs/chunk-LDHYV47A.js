import{a as v,o as c,p as h}from"./chunk-F4QZEJFO.js";import{Ea as a,O as r,Ob as d,Qa as o,Xa as l,Ya as s,ab as p,ob as m}from"./chunk-XMB6CGJJ.js";var f=class n{constructor(){}value="";onChange=t=>{};onTouched=()=>{};ngOnInit(){}ngAfterViewInit(){this.onChange(this.value),this.onTouched()}ngAfterContentInit(){}ngOnDestroy(){}writeValue(t){this.value=this.resetNumber(t,".00")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}updateValue(t){let e=t.target;if(e.value=this.resetNumber(e.value,""),!this.validateNumbers(e.value)){e.value=this.value,this.onChange(this.value),this.onTouched();return}this.value=e.value,this.onChange(this.value),this.onTouched()}resetNumber(t,e){return t==null||t===""?"0.00":t.slice(t.indexOf(".")).length>3?t.slice(0,t.indexOf(".")+3):t+e}validateNumbers(t){return/^[0-9.]+$/.test(t)}onBlur(t){let e=t.target;e.value=this.resetNumber(e.value,""),e.value.includes(".")||(e.value=e.value!==""?e.value+".00":e.value),e.value.startsWith(".")&&(e.value=e.value.replace(".","0.")),e.value.slice(e.value.indexOf(".")).length===2&&(e.value=e.value+"0"),e.value.endsWith(".")&&(e.value=e.value+"00"),this.value=e.value,this.onChange(this.value),this.onTouched()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=a({type:n,selectors:[["partial-inputnumber"]],features:[m([{provide:v,useExisting:r(()=>n),multi:!0}])],decls:1,vars:1,consts:[["type","text",3,"input","blur","value"]],template:function(e,i){e&1&&(l(0,"input",0),p("input",function(u){return i.updateValue(u)})("blur",function(u){return i.onBlur(u)}),s()),e&2&&o("value",i.value)},dependencies:[d,c,h],encapsulation:2})};function F(n){return t=>{let e=t.value;return e==null||e===""||new RegExp(`^\\d+(\\.\\d{1,${n}})?$`).test(e)?null:{invalidDecimal:{maxDecimals:n,actualValue:e}}}}export{f as a,F as b};
